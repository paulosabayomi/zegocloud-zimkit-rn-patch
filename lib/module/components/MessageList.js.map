{"version":3,"names":["StyleSheet","View","FlatList","Text","ActivityIndicator","ZIMKit","React","useEffect","useState","useRef","Messages","Delegate","MessageList","props","conversationID","conversationType","isInputFocus","itemBuilder","loadingBuilder","errorBuilder","messageList","setMessageList","flatListRef","isRefreshing","setIsRefreshing","hasError","setHasError","isLoading","setIsLoading","groupMemberInfoList","setTimeout","_flatListRef$current","current","scrollToEnd","getMessageList","then","data","code","sort","a","b","orderKey","_flatListRef$current2","getGroupMemberInfoList","console","log","onMessageListChanged","id","type","clearUnreadCount","_flatListRef$current3","offMessageListChanged","memberIDs","forEach","msg","some","item","senderUserID","push","index","queryGroupMemberInfo","userInfo","refresh","loadMoreMessage","defaultLoadingBuilder","createElement","style","loadingView","defaultErrorBuilder","errorView","renderItem","container","to","length","contentContainerStyle","paddingTop","ref","keyExtractor","localMessageID","refreshing","onRefresh","create","flex","backgroundColor","justifyContent","alignItems"],"sourceRoot":"../../../src","sources":["components/MessageList.js"],"mappings":"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","ignoreList":[]}